<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product - Things.in</title>
<link rel="stylesheet" href="css/style.css">

<style>
.product-page{
  max-width:420px;
  margin:40px auto;
  text-align:center;
}

.product-page img{
  width:100%;
  max-height:420px;
  object-fit:cover;
  border-radius:8px;
}

.product-page h2{margin:12px 0 6px;}
.product-page .price{font-weight:bold;margin-bottom:10px;}

.size-options button,
.color-options div{
  margin:5px;
  cursor:pointer;
}

.size-options button{
  padding:6px 12px;
  border:1px solid #000;
  background:white;
}

.size-options button.active{
  background:black;
  color:white;
}

.color-box{
  width:22px;height:22px;
  display:inline-block;
  border-radius:4px;
  border:1px solid #ccc;
}

#addBtn{
  margin-top:14px;
  padding:10px 20px;
  border:none;
  background:#0a1f44;
  color:white;
  cursor:pointer;
  display:block;
  margin-left:auto;
  margin-right:auto;
}
</style>
</head>

<body>

<nav>
  <div class="logo"><a href="index.html" style="text-decoration:none;color:inherit;">Things.in</a></div>
  <div class="nav-links">
    <a href="apparels.html">Apparels</a>
    <a href="accessories.html">Accessories</a>
    <a href="cart.html">ðŸ›’ <span id="cart-count">0</span></a>
  </div>
</nav>

<div class="product-page">
  <img id="productImg">
  <h2 id="productName"></h2>
  <p class="price" id="productPrice"></p>

  <div class="size-options" id="sizeBox"></div>
  <div class="color-options" id="colorBox"></div>

  <button id="addBtn">Add to Cart</button>
</div>

<script>
const products = {

  /* ðŸ‘• APPARELS EXAMPLES â€” ADD YOUR REAL ONES HERE */
  "blackpants": {
    name:"Loose Fit Pants",
    price:899,
    images:["images/apparels/blackpants.png"],
    sizes:["S","M","L","XL"]
  },

  /* ðŸ§´ ACCESSORY */
  "pandabottle": {
    name:"Panda Bottle",
    price:399,
    images:[
      "images/accessories/pandabottle4.png",
      "images/accessories/pandabottle1.png",
      "images/accessories/pandabottle2.png",
      "images/accessories/pandabottle3.png",
      "images/accessories/pandabottle5.png",
      "images/accessories/pandabottle6.png"
    ],
    colors:{
      yellow:"images/accessories/pandabottle3.png",
      grey:"images/accessories/pandabottle1.png"
    }
  }
};

const params = new URLSearchParams(window.location.search);
const productId = params.get("id");

if(!products[productId]){
  document.body.innerHTML="<h2 style='text-align:center;margin-top:50px'>Product not found</h2>";
  throw new Error("Invalid product ID");
}

const product = products[productId];

const imgEl = document.getElementById("productImg");
const nameEl = document.getElementById("productName");
const priceEl = document.getElementById("productPrice");
const sizeBox = document.getElementById("sizeBox");
const colorBox = document.getElementById("colorBox");

nameEl.textContent = product.name;
priceEl.textContent = "â‚¹"+product.price;
imgEl.src = product.images[0];

/* Sizes for apparels */
if(product.sizes){
  product.sizes.forEach(size=>{
    const btn=document.createElement("button");
    btn.textContent=size;
    btn.onclick=()=>btn.classList.toggle("active");
    sizeBox.appendChild(btn);
  });
}

/* Colors for accessories */
if(product.colors){
  Object.entries(product.colors).forEach(([color,img])=>{
    const box=document.createElement("div");
    box.className="color-box";
    box.style.background=color==="yellow"?"#ffe680":"#bbb";
    box.onclick=()=>imgEl.src=img;
    colorBox.appendChild(box);
  });
}

/* Cart */
function getCart(){return JSON.parse(localStorage.getItem("cart"))||[];}
function saveCart(cart){localStorage.setItem("cart",JSON.stringify(cart));updateCount();}
function updateCount(){
  const cart=getCart();let total=0;
  cart.forEach(i=>total+=Number(i.qty||0));
  document.getElementById("cart-count").innerText=total;
}
updateCount();

document.getElementById("addBtn").onclick=()=>{
  let cart=getCart();
  let item=cart.find(i=>i.name===product.name);
  if(item)item.qty++;
  else cart.push({name:product.name,price:product.price,img:imgEl.src,qty:1});
  saveCart(cart);
  alert("Added to cart");
};
</script>

</body>
</html>
